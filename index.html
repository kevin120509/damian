<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat√°logo de Restaurantes</title>
    <style>
        /* styles.css */

        /* --- Google Fonts --- */
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Lato:wght@400;700&display=swap');

        /* --- Variables y Globales --- */
        :root {
            --color-primary: #007bff;
            --color-primary-dark: #0056b3;
            --color-secondary: #6c757d;
            --color-text: #343a40;
            --color-text-light: #f8f9fa;
            --color-bg: #ffffff;
            --color-bg-alt: #f8f9fa;
            --color-border: #dee2e6;
            --color-star: #ffc107;
            --color-overlay: rgba(0, 0, 0, 0.6);

            --font-family-headings: 'Montserrat', sans-serif;
            --font-family-body: 'Lato', sans-serif;
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
            --border-radius: 8px;
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.06);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
            --transition-fast: 0.2s ease-in-out;
            --transition-slow: 0.4s ease-in-out;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family-body);
            background-color: var(--color-bg-alt);
            color: var(--color-text);
            line-height: 1.7;
        }

        .container {
            width: 95%;
            max-width: 1400px;
            margin: 0 auto;
        }

        .grid {
            display: grid;
            gap: var(--spacing-lg);
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        /* --- Header --- */
        .header {
            background-color: var(--color-bg);
            box-shadow: var(--shadow-sm);
            padding: var(--spacing-md) 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .header__logo {
            font-family: var(--font-family-headings);
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--color-primary);
        }

        /* --- Tarjetas de Restaurante --- */
        .restaurant-list {
            padding: var(--spacing-xl) 0;
        }

        .grid {
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        }

        .card {
            background-color: var(--color-bg);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-md);
            transition: transform var(--transition-fast), box-shadow var(--transition-fast);
            display: flex;
            flex-direction: column;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
        }

        .card__image {
            width: 100%;
            height: 220px;
            object-fit: cover;
        }

        .card__content {
            padding: var(--spacing-lg);
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .card__title {
            font-family: var(--font-family-headings);
            font-size: 1.4rem;
            margin-bottom: var(--spacing-sm);
            color: var(--color-text);
        }

        .card__info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-md);
            font-size: 0.95rem;
            color: var(--color-secondary);
        }

        .card__rating {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            color: var(--color-star);
            font-weight: 700;
            font-size: 1.5rem;
        }

        .card__rating-text {
            font-size: 1.2rem;
            color: var(--color-text);
        }

        .card__tags {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
        }

        .chip {
            background-color: var(--color-bg-alt);
            color: var(--color-secondary);
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 700;
        }

        .card__location {
            font-size: 0.9rem;
            color: var(--color-secondary);
            margin-top: auto;
        }

        /* --- Modal --- */
        .modal-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s var(--transition-slow), opacity var(--transition-slow);
        }
        .modal-container.is-visible {
            visibility: visible;
            opacity: 1;
        }
        .modal__overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--color-overlay);
        }
        .modal__content {
            position: relative;
            background: var(--color-bg);
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            padding: var(--spacing-xl);
            transform: scale(0.95);
            transition: transform var(--transition-slow);
        }
        .modal-container.is-visible .modal__content {
            transform: scale(1);
        }

        .modal__header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--spacing-lg);
        }

        .modal__title {
            font-family: var(--font-family-headings);
            font-size: 2rem;
            color: var(--color-primary);
        }

        .btn--close {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--color-secondary);
            transition: color var(--transition-fast);
        }
        .btn--close:hover {
            color: var(--color-text);
        }

        .modal__details {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-lg);
        }

        @media (min-width: 768px) {
            .modal__details {
                grid-template-columns: 1fr 1fr;
            }
        }

        .modal__content h4 {
            font-family: var(--font-family-headings);
            margin-top: var(--spacing-lg);
            margin-bottom: var(--spacing-sm);
            font-size: 1.3rem;
            color: var(--color-primary);
            border-bottom: 2px solid var(--color-bg-alt);
            padding-bottom: var(--spacing-sm);
        }

        .modal-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: var(--spacing-md);
            margin-top: var(--spacing-md);
        }
        .modal-gallery img {
            width: 100%;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
            transition: transform var(--transition-fast);
        }
        .modal-gallery img:hover {
            transform: scale(1.05);
        }

        /* --- Botones --- */
        .btn {
            padding: var(--spacing-sm) var(--spacing-lg);
            border: 2px solid transparent;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-family: var(--font-family-headings);
            font-weight: 600;
            transition: all var(--transition-fast);
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn--primary {
            background-color: var(--color-primary);
            color: var(--color-text-light);
        }
        .btn--primary:hover {
            background-color: var(--color-primary-dark);
            transform: translateY(-2px);
        }

        /* --- Footer --- */
        .footer {
            background-color: var(--color-bg);
            color: var(--color-secondary);
            padding: var(--spacing-xl) 0;
            text-align: center;
            font-size: 0.9rem;
            margin-top: var(--spacing-xl);
        }
        .footer a {
            color: var(--color-primary);
            text-decoration: none;
            font-weight: 700;
        }
        .footer a:hover {
            text-decoration: underline;
        }

        /* --- Skeleton Loader --- */
        .skeleton {
            background-color: var(--color-bg);
            border-radius: var(--border-radius);
            height: 480px;
            position: relative;
            overflow: hidden;
        }
        .skeleton::after {
            content: '';
            position: absolute;
            top: 0;
            left: -150%;
            width: 150%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0,0,0,0.04), transparent);
            animation: skeleton-loading 1.5s infinite;
        }

        @keyframes skeleton-loading {
            from { left: -150%; }
            to { left: 150%; }
        }
    </style>
</head>
<body>

    <header class="header">
        <div class="container">
            <div class="header__logo">RestauranteX</div>

        </div>
    </header>

    <main>
        <section id="restaurant-list" class="restaurant-list container">
            <div id="list-container" class="grid">
                <!-- Skeleton loaders -->
                <div class="card skeleton"></div>
                <div class="card skeleton"></div>
                <div class="card skeleton"></div>
                <div class="card skeleton"></div>
            </div>
            <div id="list-states" class="list-states"></div>
            <button id="load-more" class="btn btn--primary" style="display: none;">Cargar m√°s</button>
        </section>
    </main>

    <div id="modal-container" class="modal-container" aria-hidden="true">
        <div class="modal__overlay" tabindex="-1" data-close-modal></div>
        <div class="modal__content" role="dialog" aria-modal="true" aria-labelledby="modal-title">
            <!-- Contenido del modal se inyectar√° aqu√≠ -->
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Nombre del Estudiante. Todos los derechos reservados.</p>
            <p><a href="#">Acerca de</a> | <a href="#">Contacto</a></p>
        </div>
    </footer>

    <!-- Datos de ejemplo. Ser√°n reemplazados por el contenido del documento real. -->
    <script id="data-restaurantes" type="application/json">
    {
      "restaurantes": [
        {
          "id": "1",
          "nombre": "Cafe Central Mid",
          "slug": "cafe-central-mid",
          "autor": "Jose Damian Bacab Brito",
          "descripcion_150": "Caf√© Central MID ofrece una experiencia tem√°tica que transporta a los visitantes al universo de Friends y de los superh√©roes, creando espacios decorados con referencias ic√≥nicas como el sill√≥n naranja, la guitarra de Phoebe y personajes de c√≥mic en sus paredes, combinando tem√°ticas, las cuales crean un ambiente √∫nico y relajante. Est√° situado en el coraz√≥n del centro de M√©rida, lo que lo convierte en una opci√≥n atractiva para turistas y locales que buscan una experiencia de disfrute y relajaci√≥n. Inspirado en Friends y en el mundo de los superh√©roes, decorado para selfies y experiencias visuales.",
          "tipo_establecimiento": "Cafeter√≠a",
          "tipo_comida": ["Caf√© de especialidad", "frappes", "bebidas calientes y fr√≠as", "Desayunos como chilaquiles", "waffles", "omelettes", "s√°ndwiches", "pastas", "hot dogs y baguettes", "Postres de distintos sabores y snacks"],
          "rango_precios": "$$",
          "calificacion": 4.6,
          "calificacion_motivo": "4.6/5 (seg√∫n rese√±as en Google)",
          "horarios": [
            {"dia":"Lunes a s√°bado","apertura":"08:00","cierre":"21:00","cerrado":false},
            {"dia":"Domingo","apertura":"09:00","cierre":"15:00","cerrado":false}
          ],
          "ubicacion": {
            "direccion": "Calle 63 entre 62 y 64, Centro Hist√≥rico",
            "colonia": "Centro",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97000",
            "maps_url": "https://maps.app.goo.gl/5CsFBDqoGibCmEBG6"
          },
          "contacto": {
            "telefono": "9991560661",
            "sitio_web": "",
            "instagram": ""
          },
          "servicios": ["Wi-Fi", "Ambiente tem√°tico"],
          "oferta_destacada": [
            {"nombre":"Bebidas tem√°ticas","precio": null,"descripcion":"Inspiradas en Friends y superh√©roes."}
          ],
          "galeria_lugar": ["imagenes/cafe central mid/fotos/Imagen1.jpg", "imagenes/cafe central mid/fotos/Imagen2.jpg", "imagenes/cafe central mid/fotos/Imagen3.jpg", "imagenes/cafe central mid/fotos/Imagen4.jpg", "imagenes/cafe central mid/fotos/Imagen5.jpg", "imagenes/cafe central mid/fotos/Imagen6.jpg", "imagenes/cafe central mid/fotos/Imagen7.jpg"],
          "galeria_alimentos": ["imagenes/cafe central mid/carta/res1.jpg", "imagenes/cafe central mid/carta/res2.jpg", "imagenes/cafe central mid/carta/res3.jpg"],
          "etiquetas": ["cafe", "tematico", "friends", "superheroes", "centro"]
        },
        {
          "id": "2",
          "nombre": "La Fogatta Plus",
          "slug": "la-fogatta-plus",
          "autor": "Bacab Brito Jose Damian",
          "descripcion_150": "La Fogatta Plus es una pizzer√≠a italiana ubicada en el coraz√≥n del Centro Hist√≥rico de M√©rida. Muestra un ambiente rom√°ntico y acogedor, con una iluminaci√≥n tenue, comodidad en los lugares y una m√∫sica ambiental relajante. La especialidad del lugar son las pizzas al horno de le√±a, elaboradas con ingredientes frescos,adem√°s ofrecen otros alimentos que hacen una experiencia culinaria m√°s agradable. Tienen una variedad de bebidas las cuales mejoran el sabor de los alimentos que brindan en el restaurante.El servicio es atento y r√°pido, La Fogatta Plus ofrece una experiencia italiana en M√©rida.",
          "tipo_establecimiento": "Restaurante",
          "tipo_comida": ["Pizzas", "Baguettes y hamburguesas", "Pastas tipo fettuccine, spaghetti, fusilli, entre otras", "Postres y snacks", "Bebidas", "Bebidas alcoh√≥licas"],
          "rango_precios": "$$ (Aproximadamente $200 MXN - $350 MXN por persona)",
          "calificacion": 4.5,
          "calificacion_motivo": "4.5/5 en Google.",
          "horarios": [
            {"dia":"Lunes a jueves","apertura":"18:00","cierre":"00:00","cerrado":false},
            {"dia":"Viernes y s√°bado","apertura":"17:00","cierre":"00:00","cerrado":false},
            {"dia":"Domingo","apertura":"18:00","cierre":"00:00","cerrado":false}
          ],
          "ubicacion": {
            "direccion": "Calle 59 Diagonal x 64-x 64, Parque Santa Luc√≠a, Centro, M√©rida, Yucat√°n.",
            "colonia": "Centro",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97000",
            "maps_url": "https://www.google.com/maps/search/?api=1&query=La+Fogatta+Plus+M√©rida"
          },
          "contacto": {
            "telefono": "9999231515",
            "sitio_web": "",
            "instagram": ""
          },
          "servicios": ["Entrega a domicilio", "Para llevar", "Accesible para sillas de ruedas"],
          "oferta_destacada": [],
          "galeria_lugar": ["imagenes/fogatte/fotos/Imagen14.jpg", "imagenes/fogatte/fotos/Imagen15.jpg", "imagenes/fogatte/fotos/Imagen16.jpg", "imagenes/fogatte/fotos/Imagen17.jpg", "imagenes/fogatte/fotos/Imagen18.jpg", "imagenes/fogatte/fotos/Imagen19.jpg", "imagenes/fogatte/fotos/Imagen20.jpg"],
          "galeria_alimentos": ["imagenes/fogatte/carta/Imagen10.jpg", "imagenes/fogatte/carta/Imagen11.jpg", "imagenes/fogatte/carta/Imagen12.jpg", "imagenes/fogatte/carta/Imagen13.jpg", "imagenes/fogatte/carta/Imagen4.jpg", "imagenes/fogatte/carta/Imagen5.jpg", "imagenes/fogatte/carta/Imagen6.jpg", "imagenes/fogatte/carta/Imagen7.jpg", "imagenes/fogatte/carta/Imagen8.jpg", "imagenes/fogatte/carta/Imagen9.jpg"],
          "etiquetas": ["pizzeria", "italiana", "romantico", "acogedor", "centro"]
        },
        {
          "id": "3",
          "nombre": "K‚ÄôU‚ÄôUK",
          "slug": "kuuk-merida",
          "autor": "An√≥nimo",
          "descripcion_150": "Casa / mansi√≥n restaurada en la zona de Itzimn√°, cerca del Monumento a la Patria. Ambiente de fine-dining, con sala principal elegante, mesas √≠ntimas y enfoque en experiencias gastron√≥micas. Platos que cuentan historias regionales, servicio formado y sommelier / jefe de sala, ritmo pausado, ideal para comensales interesados en gastronom√≠a de autor e innovaci√≥n culinaria. Recomiendo reservar con anticipaci√≥n.",
          "tipo_establecimiento": "Restaurante",
          "tipo_comida": ["Men√∫ degustaci√≥n", "A la carta", "Vinos y destilados"],
          "rango_precios": "$$$ (MXN $300 - MXN $500)",
          "calificacion": 3,
          "calificacion_motivo": "Es una cocina de alta investigaci√≥n y creatividad que transforma productos locales en propuestas √∫nicas; sobresale la t√©cnica, consistencia y capacidad de ofrecer una experiencia gastron√≥mica memorable y original. No doy 5 estrellas porque el concepto es muy de autor y experimental, lo cual encanta a cr√≠ticos pero puede no ser universalmente accesible para todos los clientes.",
          "horarios": [
            {"dia":"Lunes","apertura":"","cierre":"","cerrado":true},
            {"dia":"Martes a s√°bado","apertura":"13:30","cierre":"23:00","cerrado":false},
            {"dia":"Domingo","apertura":"13:30","cierre":"16:30","cerrado":false}
          ],
          "ubicacion": {
            "direccion": "Avenida R√≥mulo Rozo 488, Colonia Itzimn√°, M√©rida, Yucat√°n, CP 97100",
            "colonia": "Itzimn√°",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97100",
            "maps_url": "https://www.google.com/maps/search/?api=1&query=K‚ÄôU‚ÄôUK+M√©rida"
          },
          "contacto": {
            "telefono": "+52 999 944 3377",
            "sitio_web": "",
            "instagram": ""
          },
          "servicios": ["Reservaciones recomendadas"],
          "oferta_destacada": [],
          "galeria_lugar": ["imagenes/kuku/fotos/Imagen21.jpg", "imagenes/kuku/fotos/Imagen22.jpg"],
          "galeria_alimentos": [],
          "etiquetas": ["fine-dining", "autor", "experimental", "itzimna"]
        },
        {
          "id": "4",
          "nombre": "Rosas & Xocolate",
          "slug": "rosas-y-xocolate",
          "autor": "An√≥nimo",
          "descripcion_150": "Dos mansiones restauradas transformadas en hotel boutique con varios espacios gastron√≥micos (terraza sobre Paseo de Montejo, patio interior, Moon Lounge en rooftop). Decoraci√≥n rom√°ntica/colonial contempor√°nea; programaci√≥n con m√∫sica en vivo fines de semana. Cocina contempor√°nea con gui√±os yucatecos: platos de autor que fusionan ingredientes locales con t√©cnicas internacionales (pan de caz√≥n, pato con longaniza local en algunas versiones del men√∫, opciones de mariscos y carnes). Ideal para cenas rom√°nticas, eventos y turistas que buscan una velada elegante en Paseo de Montejo. Servicio orientado a hoteler√≠a de alto nivel.",
          "tipo_establecimiento": "Restaurante",
          "tipo_comida": ["Cocina contempor√°nea-fusi√≥n", "Desayuno/brunch"],
          "rango_precios": "$$$ (MXN $310 - MXN $500)",
          "calificacion": 2,
          "calificacion_motivo": "Elevada consistencia, excelente ambiente y buena ejecuci√≥n de platos contempor√°neos; destaca por su servicio y atm√≥sfera hist√≥rica. No alcanza 3 estrellas por menor grado de innovaci√≥n culinaria comparado con centros de alta-cocina como KUUK, pero es imprescindible en M√©rida por su prestigio, localizaci√≥n y experiencia completa.",
          "horarios": [
            {"dia":"Lunes a domingo","apertura":"07:30","cierre":"01:30","cerrado":false}
          ],
          "ubicacion": {
            "direccion": "Paseo de Montejo 480 x Calle 41, Colonia Centro, M√©rida, Yucat√°n, CP 97000",
            "colonia": "Centro",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97000",
            "maps_url": "https://www.google.com/maps/search/?api=1&query=Rosas+&+Xocolate+M√©rida"
          },
          "contacto": {
            "telefono": "+52 999 924 2992",
            "sitio_web": "",
            "instagram": ""
          },
          "servicios": ["M√∫sica en vivo", "Hotel boutique"],
          "oferta_destacada": [],
          "galeria_lugar": ["imagenes/rosas/fotos/Imagen23.jpg", "imagenes/rosas/fotos/Imagen24.jpg"],
          "galeria_alimentos": [],
          "etiquetas": ["romantico", "contemporaneo", "paseo-montejo", "hotel-boutique"]
        },
        {
          "id": "5",
          "nombre": "La Bierhaus",
          "slug": "la-bierhaus",
          "autor": "An√≥nimo",
          "descripcion_150": "La Bierhaus es un restaurante ubicado en el coraz√≥n de M√©rida, frente al Parque de Santa Luc√≠a. Se especializa en gastronom√≠a alemana e internacional, ofreciendo una experiencia multi-sensorial gracias a su variado men√∫ y a su barra tem√°tica inspirada en la mitolog√≠a. Adem√°s de su amplia selecci√≥n de cervezas alemanas, el lugar destaca por su ambiente acogedor y su servicio amable, lo que lo convierte en un sitio ideal para convivir con amigos o disfrutar en pareja.",
          "tipo_establecimiento": "Restaurante tem√°tico",
          "tipo_comida": ["Gastronom√≠a alemana", "Internacional", "Cervezas alemanas"],
          "rango_precios": "$$$ (MXN $300 - MXN $500)",
          "calificacion": 4,
          "calificacion_motivo": "Tiene un buen servicio, los meseros son muy amables y simp√°ticos, los platillos son muy ricos y con linda presentaci√≥n al igual que es variado el men√∫.",
          "horarios": [
            {"dia":"Jueves","apertura":"12:00","cierre":"00:00","cerrado":false},
            {"dia":"Viernes","apertura":"12:00","cierre":"00:00","cerrado":false},
            {"dia":"S√°bado","apertura":"12:00","cierre":"00:00","cerrado":false},
            {"dia":"Domingo","apertura":"12:00","cierre":"00:00","cerrado":false},
            {"dia":"Lunes","apertura":"12:00","cierre":"00:00","cerrado":false},
            {"dia":"Martes","apertura":"12:00","cierre":"00:00","cerrado":false},
            {"dia":"Mi√©rcoles","apertura":"","cierre":"","cerrado":true}
          ],
          "ubicacion": {
            "direccion": "C. 62 487-por 57 y 59, Parque Santa Lucia, Centro, 97000 M√©rida, Yuc.",
            "colonia": "Centro",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97000",
            "maps_url": "https://www.google.com/maps/search/?api=1&query=La+Bierhaus+Centro+M√©rida"
          },
          "contacto": {
            "telefono": "+52 999 413 6571",
            "sitio_web": "",
            "instagram": ""
          },
          "servicios": [],
          "oferta_destacada": [],
          "galeria_lugar": ["imagenes/bierhaus/Imagen25.jpg", "imagenes/bierhaus/Imagen26.jpg", "imagenes/bierhaus/Imagen27.jpg", "imagenes/bierhaus/Imagen28.jpg"],
          "galeria_alimentos": [],
          "etiquetas": ["restaurante-tematico", "alemana", "internacional", "cervezas", "santa-lucia"]
        },
        {
          "id": "6",
          "nombre": "Korean Grill",
          "slug": "korean-grill",
          "autor": "An√≥nimo",
          "descripcion_150": "Korean Grill es un restaurante tem√°tico en M√©rida especializado en parrilladas coreanas (K-BBQ) y postres t√≠picos de Corea. Ofrece un ambiente moderno y acogedor, ideal para grupos o familias, con platillos como bulgogi, bibimbap y bingsu, a un precio promedio de $200‚Äì$300 MXN por persona.",
          "tipo_establecimiento": "Restaurante tem√°tico de comida coreana",
          "tipo_comida": ["Parrilladas coreanas (K-BBQ)", "Postres coreanos"],
          "rango_precios": "$$ (MXN $200 - MXN $300)",
          "calificacion": 4,
          "calificacion_motivo": "Ambiente tem√°tico coreano con mesas equipadas para parrilladas, platillos de buen sabor y porciones adecuadas. La relaci√≥n calidad-precio es buena; sin embargo, el servicio puede ser un poco lento en horas pico.",
          "horarios": [
            {"dia":"Jueves","apertura":"13:00","cierre":"22:00","cerrado":false},
            {"dia":"Viernes","apertura":"13:00","cierre":"22:00","cerrado":false},
            {"dia":"S√°bado","apertura":"13:00","cierre":"22:00","cerrado":false},
            {"dia":"Domingo","apertura":"13:00","cierre":"22:00","cerrado":false},
            {"dia":"Lunes","apertura":"13:00","cierre":"22:00","cerrado":false},
            {"dia":"Martes","apertura":"","cierre":"","cerrado":true},
            {"dia":"Mi√©rcoles","apertura":"13:00","cierre":"22:00","cerrado":false}
          ],
          "ubicacion": {
            "direccion": "P.¬∫ de Montejo 466, Zona Paseo Montejo, Centro, 97000 M√©rida, Yuc.",
            "colonia": "Centro",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97000",
            "maps_url": "https://www.google.com/maps/search/?api=1&query=Korean+Grill+M√©rida"
          },
          "contacto": {
            "telefono": "999 167 8602",
            "sitio_web": "",
            "instagram": ""
          },
          "servicios": [],
          "oferta_destacada": [],
          "galeria_lugar": ["imagenes/korean/Imagen29.jpg", "imagenes/korean/Imagen30.jpg", "imagenes/korean/Imagen31.jpg", "imagenes/korean/Imagen32.jpg"],
          "galeria_alimentos": [],
          "etiquetas": ["restaurante-tematico", "coreana", "k-bbq", "paseo-montejo"]
        },
        {
          "id": "7",
          "nombre": "Mansi√≥n M√©rida - Restaurante",
          "slug": "mansion-merida-restaurante",
          "autor": "Yuridia Jazmin Morales Can",
          "descripcion_150": "Mansion Merida es un hotel boutique del siglo XIX en el coraz√≥n del centro hist√≥rico. Dentro podr√°s encontrar  un restaurante-bistr√≥ que combina recetas internacionales con un toque yucateco en un ambiente elegante con arquitectura francesa.\nPor las ma√±anas puedes disfrutar de un desayuno al aire libre en el bistr√≥, mientras que en la noche el hotel ofrece cenas acompa√±adas de vinos, c√≥cteles y postres.\nLos fines de semana hay m√∫sica en vivo y el espacio se adorna con pinturas. Es una opci√≥n ideal si buscas buena comida y una experiencia que mezcla tradici√≥n con un espacio acogedor.",
          "tipo_establecimiento": "Restaurante-bistr√≥",
          "tipo_comida": ["Desayuno", "Carnes y mariscos", "Recetas yucatecas y francesas", "Postres caseros", "Vinos y c√≥cteles"],
          "rango_precios": "$$ (Desayuno $290 MXN, Almuerzo/Cena $250 - $600 MXN)",
          "calificacion": 4,
          "calificacion_motivo": "Los platillos son ricos y la presentaci√≥n de cada uno es muy elegante, los precios son justos y la atenci√≥n es buena.",
          "horarios": [
            {"dia":"Todos los d√≠as","apertura":"08:00","cierre":"22:00","cerrado":false}
          ],
          "ubicacion": {
            "direccion": "Entre calle 58-60 Centro, C. 59 498, Centro, 97000 M√©rida, Yuc.",
            "colonia": "Centro",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97000",
            "maps_url": "https://www.google.com/maps/search/?api=1&query=Mansi√≥n+M√©rida+Restaurante+M√©rida"
          },
          "contacto": {
            "telefono": "+52 999 924 4642",
            "sitio_web": "https://www.mansionmerida.com/gastronomia",
            "instagram": "https://www.instagram.com/mansion.merida/reels/"
          },
          "servicios": ["M√∫sica en vivo", "Hotel boutique"],
          "oferta_destacada": [],
          "galeria_lugar": ["imagenes/mansion/Imagen33.jpg"],
          "galeria_alimentos": [],
          "etiquetas": ["restaurante-bistro", "yucateco", "frances", "elegante", "centro-historico"]
        },
        {
          "id": "8",
          "nombre": "El Lucero del Alba ‚Äì Cantina",
          "slug": "el-lucero-del-alba-cantina",
          "autor": "Yuridia Jazmin Morales Can",
          "descripcion_150": "El Lucero del Alba es una cantina tradicional en el Corredor Gastron√≥mico de M√©rida, muy cerca del Remate de Paseo de Montejo. Un lugar divertido y acogedor, con m√∫sica en vivo todos los d√≠as. Adem√°s, sirven botanas yucatecas gratis con tus bebidas, lo que lo hace popular entre locales y visitantes por su buena comida y precios accesibles.",
          "tipo_establecimiento": "Cantina",
          "tipo_comida": ["Botanas tradicionales yucatecas como kibis, empanadas, mollejas, tzic de res y sikil pak.", "Tacos de cochinita pibil, longaniza, pastor negro y poc chuc.", "Parrilladas y combos.", "Bebidas como cervezas, c√≥cteles y mezcales."],
          "rango_precios": "$",
          "calificacion": 4.5,
          "calificacion_motivo": "La m√∫sica en vivo hace que el ambiente sea muy agradable y la comida t√≠pica est√° deliciosa. Los meseros son amables y los precios est√°n bastante bien.",
          "horarios": [
            {"dia":"Lunes a jueves y domingo","apertura":"12:00","cierre":"22:00","cerrado":false},
            {"dia":"Viernes y s√°bado","apertura":"12:00","cierre":"00:00","cerrado":false}
          ],
          "ubicacion": {
            "direccion": "Calle 47 No. 493 x 56, Centro, 97000 M√©rida, Yucat√°n, M√©xico.",
            "colonia": "Centro",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97000",
            "maps_url": "https://www.google.com/maps/search/?api=1&query=El+Lucero+del+Alba+Cantina+M√©rida"
          },
          "contacto": {
            "telefono": "+52 999 924 8099",
            "sitio_web": "https://www.facebook.com/ElLuceroDelAlba/",
            "instagram": "https://www.instagram.com/elluceromx/?hl=es"
          },
          "servicios": ["M√∫sica en vivo"],
          "oferta_destacada": [],
          "galeria_lugar": ["imagenes/bar/Imagen2.jpg"],
          "galeria_alimentos": [],
          "etiquetas": ["cantina", "tradicional", "musica-en-vivo", "centro"]
        },
        {
          "id": "9",
          "nombre": "BIRD MERIDA CENTRO",
          "slug": "bird-merida-centro",
          "autor": "An√≥nimo",
          "descripcion_150": "Es el primer listening bar de M√©rida, con una colecci√≥n cuidadosamente curada de m√∫sica en vinyl. Contamos con 12 l√≠neas de cerveza artesanal de barril y una amplia variedad en botella as√≠ como vinos y destilados artesanales mexicanos. Nuestro men√∫ es peque√±o y cambiante, sin embargo, la especialidad de la casa es nuestra exquisita pizza napolitana.",
          "tipo_establecimiento": "Bar",
          "tipo_comida": ["Pizza napolitana", "Cerveza artesanal", "Vinos", "Destilados artesanales mexicanos"],
          "rango_precios": "$$ (MXN $200 - $300)",
          "calificacion": 4,
          "calificacion_motivo": "Uno de los principales motivos de esa calificaci√≥n es por su calidad de la comida, especialmente sus pizzas y productos artesanales, as√≠ como su variedad y buen nivel en cervezas artesanales, incluidas l√≠neas de barril y botellas.Por su ambiente atractivo por la m√∫sica, buenos espacios, cuidado del detalle; no es solo un bar para tomar, sino tambi√©n para disfrutar la ambientaci√≥n. En el lado negativo para algunos comensales los precios son m√°s altos que en otros bares de la zona, lo que puede ser un punto en contra para quienes buscan algo econ√≥mico. Tambi√©n ocasionalmente hablan de tiempos de espera si est√° lleno.",
          "horarios": [
            {"dia":"Jueves / viernes / s√°bado","apertura":"17:00","cierre":"01:00","cerrado":false},
            {"dia":"Domingos / lunes / martes / miercoles","apertura":"17:00","cierre":"00:00","cerrado":false}
          ],
          "ubicacion": {
            "direccion": "Calle 56 #463, entre calles 55 y 53, Centro, M√©rida, Yucat√°n, CP 97000.",
            "colonia": "Centro",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97000",
            "maps_url": "https://www.google.com/maps/search/?api=1&query=BIRD+MERIDA+CENTRO"
          },
          "contacto": {
            "telefono": "",
            "sitio_web": "https://thebird.mx/menu/",
            "instagram": ""
          },
          "servicios": ["Listening bar", "Cerveza artesanal"],
          "oferta_destacada": [],
          "galeria_lugar": [],
          "galeria_alimentos": [],
          "etiquetas": ["bar", "listening-bar", "cerveza-artesanal", "pizza", "centro"]
        },
        {
          "id": "10",
          "nombre": "MI VIEJO MOLINO. SANTA LUCIA",
          "slug": "mi-viejo-molino-santa-lucia",
          "autor": "An√≥nimo",
          "descripcion_150": "Mi Viejo Molino tiene un men√∫ bastante completo que va desde desayunos hasta cenas, mezclando sabores mexicanos e internacionales. Esta cafeter√≠a gourmet ofrece un ambiente relajado, c√°lido, ideal para desayunar, comer en el centro o cenar tranquilamente.",
          "tipo_establecimiento": "Cafeter√≠a",
          "tipo_comida": ["Desayunos", "Comida mexicana", "Comida internacional", "Cenas"],
          "rango_precios": "$ (MXN $100 - $200)",
          "calificacion": 3,
          "calificacion_motivo": "Su decoraci√≥n con detalles cuidadosos: por ejemplo, las mesas llevan granos de caf√© como parte del adorno para ambientar. Espacios al aire libre (terraza disponible), debido a su proximidad con la plaza Santa Luc√≠a, El servicio es atento y servicial, aunque tambi√©n hay tiempos de espera en momentos de alta afluencia. La iluminaci√≥n interior puede ser un poco d√©bil, lo que hace que parezca oscuro, aunque esto puede depender de la zona del local.",
          "horarios": [
            {"dia":"Lunes a domingo","apertura":"07:00","cierre":"23:00","cerrado":false}
          ],
          "ubicacion": {
            "direccion": "C. 60 481, Parque Santa Lucia, Centro, 97000 M√©rida, Yuc.",
            "colonia": "Centro",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97000",
            "maps_url": "https://www.google.com/maps/search/?api=1&query=MI+VIEJO+Molino+SANTA+LUCIA"
          },
          "contacto": {
            "telefono": "999 924 5932",
            "sitio_web": "https://www.miviejomolino.com/menu/merida",
            "instagram": ""
          },
          "servicios": ["Terraza", "Wi-Fi"],
          "oferta_destacada": [],
          "galeria_lugar": [],
          "galeria_alimentos": [],
          "etiquetas": ["cafeteria", "mexicana", "internacional", "santa-lucia", "centro"]
        },
        {
          "id": "11",
          "nombre": "Ma√≠z, Canela y Cilantro",
          "slug": "maiz-canela-y-cilantro",
          "autor": "John Escalante",
          "descripcion_150": "Ma√≠z, Canela y Cilantro es un restaurante peque√±o y familiar en el centro de M√©rida que ofrece desayunos y comidas con estilo casero. Su men√∫ incluye jugos naturales, huevos al gusto, panuchos, sandwiches y guisos mexicanos a precios accesibles. Destaca por su ambiente acogedor y hogare√±o, ideal para visitantes que buscan una experiencia menos tur√≠stica y m√°s local. Es valorado por su atenci√≥n amable y la calidad de sus ingredientes frescos, siendo una opci√≥n econ√≥mica sin perder el sabor de casa.",
          "tipo_establecimiento": "Restaurante",
          "tipo_comida": ["Cocina casera mexicana y yucateca", "desayunos", "panuchos", "tortas", "jugos y caf√©"],
          "rango_precios": "$ (70‚Äì180 MXN por persona)",
          "calificacion": 5,
          "calificacion_motivo": "ofrece una experiencia gastron√≥mica aut√©ntica en un espacio que combina muy bien la tradici√≥n. La arquitectura del lugar me encanta la combinaci√≥n del ambiente y la comida tradicional me sent√≠ como en un cuarto de una hacienda sin duda refleja la riqueza cultural yucateca, con techos altos, vigas de madera expuestas, paredes en tonos c√°lidos y detalles artesanales que muestran la herencia local. Mi platillo favorito sin duda los huevos divorciados.",
          "horarios": [
            {"dia":"Lunes a s√°bado","apertura":"08:00","cierre":"16:00","cerrado":false},
            {"dia":"Domingo","apertura":"","cierre":"","cerrado":true}
          ],
          "ubicacion": {
            "direccion": "Calle 47 x 54, Centro, M√©rida, Yucat√°n.",
            "colonia": "Centro",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97000",
            "maps_url": "https://www.google.com/maps/search/?api=1&query=Ma√≠z+Canela+y+Cilantro+M√©rida"
          },
          "contacto": {
            "telefono": "999 641 9101",
            "sitio_web": "https://www.facebook.com/maizcanelaycilantro/?locale=es_LA",
            "instagram": ""
          },
          "servicios": ["Ambiente familiar", "Comida casera"],
          "oferta_destacada": [],
          "galeria_lugar": ["imagenes/maiz/Imagen1.jpg", "imagenes/maiz/Imagen2.jpg", "imagenes/maiz/Imagen3.jpg", "imagenes/maiz/Imagen4.jpg"],
          "galeria_alimentos": [],
          "etiquetas": ["restaurante", "casero", "mexicano", "yucateco", "centro"]
        },
        {
          "id": "12",
          "nombre": "Dzalbay Cantina",
          "slug": "dzalbay-cantina",
          "autor": "John Escalante",
          "descripcion_150": "Dzalbay Cantina es un hist√≥rico bar ubicado en una edificaci√≥n centenaria del Centro de M√©rida. Fundada en 1929, esta cantina ha sido transformada en un vibrante club de jazz y blues que ofrece m√∫sica en vivo todos los d√≠as.",
          "tipo_establecimiento": "Bar",
          "tipo_comida": ["Comida de bar", "vegetariana", "de autor", "postres", "tacos", "paninis", "hamburguesas", "tablas de quesos y jamones artesanales"],
          "rango_precios": "$$ ($100 - $250 MXN)",
          "calificacion": 5,
          "calificacion_motivo": "En lo personal es el ambiente perfecto, la m√∫sica en vivo y la vibra del bar hicieron que la visita vali√≥ totalmente la pena. Estar ah√≠ me permiti√≥ disfrutar no solo de la m√∫sica, sino tambi√©n de poder compartir esta experiencia √∫nica del sitio como amante del jazz, lo que lo convirti√≥ en un recuerdo muy significativo, combinado con una oferta gastron√≥mica de platillos muy agradables al paladar que disfruta de buenas salsas, crea una experiencia √∫nica para los amantes de la buena m√∫sica y la buena comida. Mi postre favorito fue el afoggato.",
          "horarios": [
            {"dia":"Lunes a domingo","apertura":"16:00","cierre":"22:00","cerrado":false}
          ],
          "ubicacion": {
            "direccion": "Calle 64 x 53, esquina No. 443, Parque Santa Luc√≠a, Centro, 97000 M√©rida, Yucat√°n.",
            "colonia": "Centro",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97000",
            "maps_url": "https://www.google.com/maps/search/?api=1&query=Dzalbay+Cantina+M√©rida"
          },
          "contacto": {
            "telefono": "",
            "sitio_web": "https://dzalbaycantina.com/menu/",
            "instagram": "https://www.instagram.com/dzalbaycantina/"
          },
          "servicios": ["M√∫sica en vivo", "Jazz y blues"],
          "oferta_destacada": [],
          "galeria_lugar": ["imagenes/dzalbay/Imagen5.jpg", "imagenes/dzalbay/Imagen6.jpg", "imagenes/dzalbay/Imagen7.jpg", "imagenes/dzalbay/Imagen8.jpg", "imagenes/dzalbay/Imagen9.jpg"],
          "galeria_alimentos": [],
          "etiquetas": ["bar", "cantina", "jazz", "blues", "musica-en-vivo", "centro"]
        },
        {
          "id": "13",
          "nombre": "High Score Food & Gaming",
          "slug": "high-score-food-gaming",
          "autor": "Luis Pool",
          "descripcion_150": "\"High Score Food & Gaming\" es el primer restaurante gamer en la ciudad de M√©rida. Ofrece una experiencia √∫nica donde los clientes pueden disfrutar de consolas y arcades originales con juegos cl√°sicos como Metal Slug, King of Fighters, Sunset Riders y Battletoads. Ven y sum√©rgete en el emocionante mundo de los videojuegos mientras disfrutas de una deliciosa comida.",
          "tipo_establecimiento": "Restaurante/Bar",
          "tipo_comida": ["Entradas como alitas de pollo (12 y 24 piezas), dedos de queso empanizados, tiras de pollo, papas con tocino y queso, aros de cebolla, papas gajo, etc.", "Hamburguesas artesanales (150-200 g), con diferentes ingredientes (lechuga, tomate, cebolla, queso, salsa especial, etc.) y variedad de sabores como hawaiana.", "Pastas: fettuccini en estilos como Alfredo, Carbonara, salsa chipotle, acompa√±adas con pollo", "Boneless de pollo en sazonados o con diferentes salsas, acompa√±ado de papas.", "Bebidas varias y t√©, etc."],
          "rango_precios": "$$ ($100-300 p/p)",
          "calificacion": 0,
          "calificacion_motivo": "",
          "horarios": [
            {"dia":"Lunes","apertura":"","cierre":"","cerrado":true},
            {"dia":"Martes a jueves","apertura":"16:00","cierre":"23:30","cerrado":false},
            {"dia":"Viernes y s√°bado","apertura":"15:00","cierre":"00:00","cerrado":false},
            {"dia":"Domingo","apertura":"14:00","cierre":"22:00","cerrado":false}
          ],
          "ubicacion": {
            "direccion": "Calle 15 # 500, Residencial Pensiones III, M√©rida, Yucat√°n, C√≥digo Postal 97134 (High Score Food & Gaming)",
            "colonia": "Residencial Pensiones III",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97134",
            "maps_url": "https://www.google.com/maps/search/?api=1&query=High+Score+Food+%26+Gaming+M√©rida"
          },
          "contacto": {
            "telefono": "",
            "sitio_web": "",
            "instagram": ""
          },
          "servicios": ["Consolas y arcades", "Ambiente gamer"],
          "oferta_destacada": [],
          "galeria_lugar": ["imagenes/high/Imagen1.jpg", "imagenes/high/Imagen2.jpg", "imagenes/high/Imagen3.jpg", "imagenes/high/Imagen4.jpg", "imagenes/high/Imagen5.jpg"],
          "galeria_alimentos": [],
          "etiquetas": ["restaurante", "bar", "gamer", "arcade", "hamburguesas"]
        },
        {
          "id": "14",
          "nombre": "Las Vigas",
          "slug": "las-vigas",
          "autor": "Luis Pool",
          "descripcion_150": "Bar Las Vigas en M√©rida, ubicado en el Hotel Los Arcos, que fusiona bar y restaurante con ambiente relajado y casual. Su men√∫ abarca desde alitas, empanizados, burritos, ceviches y platos al estilo mexicano-latino, hasta opciones ligeras como papas, cebollas empanizadas y pechuga Cordon Blue.",
          "tipo_establecimiento": "Bar",
          "tipo_comida": ["Alitas (8, 16, 24 piezas) con distintas salsas", "Empanizados de pescado, de puerco, de pollo, acompa√±ados de papas, arroz, ensalada.", "Burritos de res, pollo, camar√≥n, vegetarianos y con guarniciones como arroz, ensalada o papas.", "Ceviche de camar√≥n grande.", "Papas a la francesa, pechuga Cordon Blue, dedos de pollo, empanizado de pescado con verduras etc."],
          "rango_precios": "$$ ($220-230 p/p)",
          "calificacion": 0,
          "calificacion_motivo": "",
          "horarios": [
            {"dia":"Lunes a jueves","apertura":"12:00","cierre":"22:30","cerrado":false},
            {"dia":"Viernes y s√°bados","apertura":"12:00","cierre":"22:30","cerrado":false},
            {"dia":"Domingo","apertura":"12:00","cierre":"22:30","cerrado":false}
          ],
          "ubicacion": {
            "direccion": "Calle 63 No. 501-b entre 62 y 64, Centro, M√©rida, Yucat√°n (Planta alta del Hotel Los Arcos)",
            "colonia": "Centro",
            "ciudad": "M√©rida",
            "estado": "Yucat√°n",
            "cp": "97000",
            "maps_url": "https://www.google.com/maps/search/?api=1&query=Las+Vigas+M√©rida"
          },
          "contacto": {
            "telefono": "",
            "sitio_web": "",
            "instagram": ""
          },
          "servicios": ["Ambiente relajado", "Bar y restaurante"],
          "oferta_destacada": [],
          "galeria_lugar": ["imagenes/vigas/Imagen6.jpg", "imagenes/vigas/Imagen7.jpg", "imagenes/vigas/Imagen8.jpg", "imagenes/vigas/Imagen9.jpg", "imagenes/vigas/Imagen10.jpg"],
          "galeria_alimentos": [],
          "etiquetas": ["bar", "restaurante", "mexicano-latino", "casual", "centro"]
        }
      ]
    }
    </script>

    <script>
        /* app.js (Versi√≥n corregida y simplificada) */

        document.addEventListener('DOMContentLoaded', () => {
            // --- ELEMENTOS DEL DOM ---
            const restaurantListContainer = document.getElementById('list-container');
            const listStatesContainer = document.getElementById('list-states');
            const modalContainer = document.getElementById('modal-container');
            const loadMoreButton = document.getElementById('load-more');

            // --- ESTADO DE LA APLICACI√ìN ---
            let restaurants = [];
            let itemsPerPage = 6;
            let itemsLoaded = 0;

            // --- INICIALIZACI√ìN ---
            function init() {
                loadData();
                setupEventListeners();
                renderRestaurants();
            }

            function loadData() {
                const dataElement = document.getElementById('data-restaurantes');
                if (dataElement) {
                    try {
                        const data = JSON.parse(dataElement.textContent);
                        restaurants = data.restaurantes;
                    } catch (error) {
                        console.error('Error al parsear los datos JSON:', error);
                        showState('error');
                    }
                } else {
                    console.error('Elemento de datos no encontrado.');
                    showState('error');
                }
            }

            // --- RENDERIZADO ---
            function renderRestaurants() {
                if (itemsLoaded === 0) {
                    restaurantListContainer.innerHTML = ''; // Limpiar skeletons iniciales
                }

                if (!restaurants || restaurants.length === 0) {
                    showState('error');
                    loadMoreButton.style.display = 'none';
                    return;
                }

                showState(); // Ocultar mensajes de estado

                const itemsToRender = restaurants.slice(itemsLoaded, itemsLoaded + itemsPerPage);

                itemsToRender.forEach(restaurant => {
                    const card = createRestaurantCard(restaurant);
                    restaurantListContainer.appendChild(card);
                });

                itemsLoaded += itemsToRender.length;

                if (itemsLoaded < restaurants.length) {
                    loadMoreButton.style.display = 'block';
                } else {
                    loadMoreButton.style.display = 'none';
                }
            }

            function createRestaurantCard(restaurant) {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <img src="${restaurant.galeria_lugar[0]}" alt="${restaurant.nombre}" class="card__image" loading="lazy">
                    <div class="card__content">
                        <h3 class="card__title">${restaurant.nombre}</h3>
                        <div class="card__info">
                            <span>${restaurant.rango_precios}</span>
                            <span class="card__rating">
                                <span>${'‚òÖ'.repeat(Math.floor(restaurant.calificacion))}</span>
                                <span class="card__rating-text">${restaurant.calificacion.toFixed(1)}</span>
                            </span>
                        </div>
                        <div class="card__tags">
                            <span class="chip">${restaurant.tipo_establecimiento}</span>
                            <span class="chip">${restaurant.tipo_comida.join(', ')}</span>
                        </div>
                        <p class="card__location">${restaurant.ubicacion.colonia}, ${restaurant.ubicacion.ciudad}</p>
                        <button class="btn btn--secondary" data-id="${restaurant.id}">Ver detalle</button>
                    </div>
                `;
                card.querySelector('[data-id]').addEventListener('click', () => openModal(restaurant.id));
                return card;
            }

            // --- MANEJO DE ESTADOS ---
            function showState(state) {
                if (!state) {
                    listStatesContainer.style.display = 'none';
                    return;
                }
                listStatesContainer.style.display = 'block';
                let message = '<h3>Ocurri√≥ un error</h3><p>No se pudo cargar la informaci√≥n o no hay restaurantes para mostrar.</p>';
                listStatesContainer.innerHTML = message;
            }

            // --- MANEJO DE EVENTOS ---
            function setupEventListeners() {
                if (loadMoreButton) {
                    loadMoreButton.addEventListener('click', renderRestaurants);
                }
                if (modalContainer) {
                    modalContainer.addEventListener('click', (e) => {
                        if (e.target.dataset.closeModal) {
                            closeModal();
                        }
                    });
                    window.addEventListener('keydown', (e) => {
                        if (e.key === 'Escape' && modalContainer.classList.contains('is-visible')) {
                            closeModal();
                        }
                    });
                }
            }

            // --- L√ìGICA DEL MODAL ---
            function openModal(id) {
                const restaurant = restaurants.find(r => r.id === id);
                if (!restaurant) return;

                const modalContent = modalContainer.querySelector('.modal__content');
                modalContent.innerHTML = `
                    <button class="btn--close modal__close" data-close-modal aria-label="Cerrar detalle">&times;</button>
                    <h2 id="modal-title">${restaurant.nombre}</h2>
                    <p>${restaurant.descripcion_150}</p>

                    <h4>Fotos del Restaurante</h4>
                    <div class="modal-gallery">
                        ${restaurant.galeria_lugar.map(img => `<img src="${img}" alt="Foto del restaurante" loading="lazy">`).join('')}
                    </div>

                    <h4>Nuestra Carta</h4>
                    <div class="modal-gallery">
                        ${restaurant.galeria_alimentos.map(img => `<img src="${img}" alt="Foto de la carta" loading="lazy">`).join('')}
                    </div>

                    <h4>Horarios</h4>
                    <ul>
                        ${restaurant.horarios.map(h => `<li>${h.dia}: ${h.cerrado ? 'Cerrado' : `${h.apertura} - ${h.cierre}`}</li>`).join('')}
                    </ul>

                    <h4>Ubicaci√≥n</h4>
                    <p>${restaurant.ubicacion.direccion}</p>
                    <a href="${restaurant.ubicacion.maps_url}" target="_blank" class="btn btn--secondary">Abrir en Google Maps</a>

                    <h4>Servicios</h4>
                    <div class="card__tags">${restaurant.servicios.map(s => `<span class="chip">${s}</span>`).join('')}</div>
                `;
                modalContent.querySelector('.modal__close').addEventListener('click', closeModal);

                document.body.style.overflow = 'hidden';
                modalContainer.classList.add('is-visible');
                modalContainer.setAttribute('aria-hidden', 'false');
            }

            function closeModal() {
                document.body.style.overflow = '';
                modalContainer.classList.remove('is-visible');
                modalContainer.setAttribute('aria-hidden', 'true');
            }

            // --- INICIAR LA APP ---
            init();
        });
    </script>

</body>
</html>